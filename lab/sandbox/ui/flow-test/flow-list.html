<!DOCTYPE html>
<!-- <copyright>
 This file contains proprietary software owned by Motorola Mobility, Inc.<br/>
 No rights, expressed or implied, whatsoever to this software are provided by Motorola Mobility, Inc. hereunder.<br/>
 (c) Copyright 2011 Motorola Mobility, Inc.  All Rights Reserved.
 </copyright> -->
<html>
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="viewport" content="initial-scale=1.0; maximum-scale=1.0; user-scalable=0;">
    <script src="../../../../montage.js"></script>
    <script type="text/montage-serialization">
        {
            "row1": {
                "module": "montage/ui/dynamic-text.reel",
                "name": "DynamicText",
                "properties": {
                    "element": {"#": "row"}
                },
                "bindings": {
                    "value": {
                        "boundObject": {"@": "flow1"},
                        "boundObjectPropertyPath": "objectAtCurrentIteration",
                        "oneway": true
                    }
                }
            },
            "translateComposer1": {
                "module": "montage/ui/composer/translate-composer",
                "name": "TranslateComposer",
                "properties": {
                    "component": {"@": "flow1"},
                    "maxTranslateY": 1000
                },
                "bindings": {
                    "translateY": {
                        "boundObject": {"@": "flow1"},
                        "boundObjectPropertyPath": "origin"
                    }
                }
            },
            "nearest": {
                "module": "montage/ui/nearest-neighbor-component-search",
                "name": "NearestNeighborComponentSearch",
                "bindings": {
                    "componentList": {
                        "boundObject": {"@": "flow1"},
                        "boundObjectPropertyPath": "_repetitionComponents",
                        "oneway": true
                    },
                    "pointerPosition": {
                        "boundObject": {"@": "translateComposer1"},
                        "boundObjectPropertyPath": "pointerStartEventPosition",
                        "oneway": true                    
                    }
                }
            },
            "flow1": {
                "module": "montage/ui/flow.reel",
                "name": "Flow",
                "properties": {
                    "element": {"#": "flow"},
                    "objects": [
                        "Foo",
                        "A long text here that should occupy several lines in the example. Phasellus vulputate, diam in luctus fringilla, justo odio pharetra purus, eget congue elit felis sed lorem. Praesent aliquam sem vitae neque rutrum eu rhoncus nibh interdum. Vivamus sed ligula quis ipsum aliquam euismod. Sed nec eros nunc, sit amet fringilla lorem. Phasellus ac libero mi, quis sollicitudin arcu. Quisque luctus commodo congue. Maecenas hendrerit neque nisl. Morbi a ultricies felis.",
                        "Bar",
                        "Baz",
                        "Qux",
                        "Spam",
                        "Eggs",
                        "Lorem Ipsum 0",
                        "Lorem Ipsum 1",
                        "Lorem Ipsum 2",
                        "Lorem Ipsum 3",
                        "Lorem Ipsum 4",
                        "Lorem Ipsum 5",
                        "Lorem Ipsum 6",
                        "Lorem Ipsum 7",
                        "Lorem Ipsum 8"
                    ],
                    "cameraRotationAxisX": 1,
                    "cameraRotationAxisY": 0,
                    "cameraRotationAxisZ": 0,
                    "scale": 0
                },
                "bindings": {
                    "path": {
                        "boundObject": {"@": "path1"},
                        "boundObjectPropertyPath": "path",
                        "oneway": true
                    },
                    "cameraRotationAngle": {
                        "boundObject": {"@": "slider3"},
                        "boundObjectPropertyPath": "value",
                        "oneway": true
                    },
                    "hasElasticScrolling": {
                        "boundObject": {"@": "checkbox"},
                        "boundObjectPropertyPath": "checked",
                        "oneway": true
                    },
                    "selectedSlideIndex": {
                        "boundObject": {"@": "nearest"},
                        "boundObjectPropertyPath": "nearestNeighborComponent",
                        "oneway": true  
                    }
                }
            },
            "path1": {
                "module": "montage/ui/flow-path",
                "name": "FlowPath",
                "properties": {
                    "evalPath": [
                        "path.translateY = slide.time"
                    ]
                }
            },
            "slider3": {
                "module": "montage/ui/slider.reel",
                "name": "Slider",
                "properties": {
                    "element": {"#": "slider3"},
                    "minValue": -0.5,
                    "maxValue": 0.5,
                    "value": 0
                }
            },
            "checkbox": {
                "module": "montage/ui/checkbox.reel",
                "name": "Checkbox",
                "properties": {
                    "element": {"#": "checkbox"}
                }
            },
            "owner": {
                "module": "flow-test",
                "name": "FlowTest"
            }
        }
    </script>
    <style>
        .flow {
            position: absolute;
            top: 0;
            left: 0;
            right: 380px;
            bottom: 0;
            -webkit-perspective: 800px;
            background: #363636;            
        }
        #rightPannel {
            position: absolute;
            right: 0;
            top: 0;
            bottom: 0;
            width: 360px;
            padding: 10px;
        }
        .pathCode {
            width: 340px;
            height: 135px;
        }
        .row {
            position: static !important;
            background: #404040;
            padding: 24px;
            color: white;
            text-shadow: 0 1px 1px rgba(0,0,0,.5);
            font-size: 18px;
            -webkit-box-shadow: inset 0 -2px 1px -2px rgba(0,0,0,.65), inset 0 2px 1px -2px rgba(255,255,255,.2);
            font-family: Helvetica, Arial, sans-serif;
        }
    </style>
</head>
<body>
    <div id="flow" class="flow">
        <div id="row" class="row"></div>
    </div>
    <div id="rightPannel">
        Camera rotation angle
        <div id="slider3"></div>
        Elastic Scrolling <br>
        <div id="checkbox"></div> 
    </div>
</body>
</html>