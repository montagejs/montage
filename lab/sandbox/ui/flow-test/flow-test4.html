<!DOCTYPE html>
<!-- <copyright>
 This file contains proprietary software owned by Motorola Mobility, Inc.<br/>
 No rights, expressed or implied, whatsoever to this software are provided by Motorola Mobility, Inc. hereunder.<br/>
 (c) Copyright 2011 Motorola Mobility, Inc.  All Rights Reserved.
 </copyright> -->
<html>
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="viewport" content="initial-scale=1.0; maximum-scale=1.0; user-scalable=0;">
    <script src="../../../../montage.js"></script>
    <script type="text/montage-serialization">
        {
            "image1": {
                "module": "image3d.reel",
                "name": "Image3D",
                "properties": {
                    "element": {"#": "image"}
                },
                "bindings": {
                    "data": {
                        "boundObject": {"@": "flow1"},
                        "boundObjectPropertyPath": "objectAtCurrentIteration",
                        "oneway": true
                    }
                }
            },
            "translateComposer1": {
                "module": "montage/ui/composer/translate-composer",
                "name": "TranslateComposer",
                "properties": {
                    "pointerSpeedMultiplier": 3,
                    "component": {"@": "flow1"}
                },
                "bindings": {
                    "maxTranslateX": {
                        "boundObject": {"@": "flow1"},
                        "boundObjectPropertyPath": "length",
                        "oneway": true
                    },
                    "translateX": {
                        "boundObject": {"@": "flow1"},
                        "boundObjectPropertyPath": "origin"
                    }
                }
            },
            "nearest": {
                "module": "montage/ui/nearest-neighbor-component-search",
                "name": "NearestNeighborComponentSearch",
                "bindings": {
                    "componentList": {
                        "boundObject": {"@": "flow1"},
                        "boundObjectPropertyPath": "_repetitionComponents",
                        "oneway": true
                    },
                    "pointerPosition": {
                        "boundObject": {"@": "translateComposer1"},
                        "boundObjectPropertyPath": "pointerStartEventPosition",
                        "oneway": true
                    }
                }
            },
            "flow1": {
                "module": "montage/ui/flow.reel",
                "name": "Flow",
                "properties": {
                    "element": {"#": "flow"},
                    "objects": [
                        {"src": "images/0.jpg", "text": "Flames"},
                        {"src": "images/1.jpg", "text": "Sail"},
                        {"src": "images/2.jpg", "text": "Snow"},
                        {"src": "images/3.jpg", "text": "Mountains"},
                        {"src": "images/4.jpg", "text": "Rocky"},
                        {"src": "images/5.jpg", "text": "Road"},
                        {"src": "images/6.jpg", "text": "Lorem Ipsum 0"},
                        {"src": "images/7.jpg", "text": "Lorem Ipsum 1"},
                        {"src": "images/8.jpg", "text": "Lorem Ipsum 2"},
                        {"src": "images/9.jpg", "text": "Lorem Ipsum 3"},
                        {"src": "images/10.jpg", "text": "Lorem Ipsum 4"},
                        {"src": "images/11.jpg", "text": "Lorem Ipsum 5"},
                        {"src": "images/12.jpg", "text": "Lorem Ipsum 6"},
                        {"src": "images/13.jpg", "text": "Lorem Ipsum 7"},
                        {"src": "images/14.jpg", "text": "Lorem Ipsum 8"}
                    ],
                    "scale": 1000
                },
                "bindings": {
                    "path": {
                        "boundObject": {"@": "path1"},
                        "boundObjectPropertyPath": "path",
                        "oneway": true
                    },
                    "selectedSlideIndex": {
                        "boundObject": {"@": "nearest"},
                        "boundObjectPropertyPath": "nearestNeighborComponent",
                        "oneway": true
                    }
                }
            },
            "path1": {
                "module": "montage/ui/flow-path",
                "name": "FlowPath",
                "bindings": {
                    "translateX": {
                        "boundObject": {"@": "translateX"},
                        "boundObjectPropertyPath": "path",
                        "oneway": true
                    },
                    "rotateY": {
                        "boundObject": {"@": "rotateY"},
                        "boundObjectPropertyPath": "path",
                        "oneway": true
                    }
                }
            },
            "translateX": {
                "module": "montage/ui/flow-path-sigmoid",
                "name": "FlowPathSigmoid",
                "properties": {
                    "smoothness": 300,
                    "scale": 0.05,
                    "width": 10000,
                    "origin": 0,
                    "sigmoidCenter": 0
                }
            },
            "rotateY": {
                "module": "montage/ui/flow-path-sigmoid",
                "name": "FlowPathSigmoid",
                "properties": {
                    "smoothness": 300,
                    "scale": -0.00024,
                    "width": 10000,
                    "origin": 0,
                    "sigmoidCenter": 0,
                    "slope": 0
                }
            },
            "owner": {
                "module": "flow-test",
                "name": "FlowTest"
            },




            "image2": {
                "module": "image.reel",
                "name": "Image",
                "properties": {
                    "element": {"#": "image2"}
                },
                "bindings": {
                    "src": {
                        "boundObject": {"@": "flow2"},
                        "boundObjectPropertyPath": "objectAtCurrentIteration",
                        "oneway": true
                    }
                }
            },
            "translateComposer2": {
                "module": "montage/ui/composer/translate-composer",
                "name": "TranslateComposer",
                "properties": {
                    "pointerSpeedMultiplier": 3,
                    "component": {"@": "flow2"}
                },
                "bindings": {
                    "maxTranslateX": {
                        "boundObject": {"@": "flow2"},
                        "boundObjectPropertyPath": "length",
                        "oneway": true
                    },
                    "translateX": {
                        "boundObject": {"@": "flow2"},
                        "boundObjectPropertyPath": "origin"
                    }
                }
            },
            "nearest2": {
                "module": "montage/ui/nearest-neighbor-component-search",
                "name": "NearestNeighborComponentSearch",
                "bindings": {
                    "componentList": {
                        "boundObject": {"@": "flow2"},
                        "boundObjectPropertyPath": "_repetitionComponents",
                        "oneway": true
                    },
                    "pointerPosition": {
                        "boundObject": {"@": "translateComposer2"},
                        "boundObjectPropertyPath": "pointerStartEventPosition",
                        "oneway": true
                    }
                }
            },
            "path2": {
                "module": "montage/ui/flow-path",
                "name": "FlowPath",
                "bindings": {
                    "translateX": {
                        "boundObject": {"@": "translateX"},
                        "boundObjectPropertyPath": "path",
                        "oneway": true
                    },
                    "rotateY": {
                        "boundObject": {"@": "rotateY"},
                        "boundObjectPropertyPath": "path",
                        "oneway": true
                    }
                }
            },
            "flow2": {
                "module": "montage/ui/flow.reel",
                "name": "Flow",
                "properties": {
                    "element": {"#": "flow2"},
                    "objects": [
                        "images/0.jpg",
                        "images/1.jpg",
                        "images/2.jpg",
                        "images/3.jpg",
                        "images/4.jpg",
                        "images/5.jpg",
                        "images/6.jpg",
                        "images/7.jpg"
                    ],
                    "scale": 1000
                },
                "bindings": {
                    "path": {
                        "boundObject": {"@": "path2"},
                        "boundObjectPropertyPath": "path",
                        "oneway": true
                    },
                    "selectedSlideIndex": {
                        "boundObject": {"@": "nearest2"},
                        "boundObjectPropertyPath": "nearestNeighborComponent",
                        "oneway": true
                    },
                    "origin": {
                        "boundObject": {"@": "translateComposer2"},
                        "boundObjectPropertyPath": "translateX",
                        "oneway": true
                    }
                }
            }
        }
    </script>
    <style>
        .flow {
            position: absolute;
            top: 40px;
            left: 0;
            right: 50%;
            bottom: 0;
            -webkit-perspective: 800px;
            background: -webkit-gradient(linear, left top, left bottom, from(#000), to(#777));
        }
        .image {
            position: absolute;
            top: 50%;
            left: 50%;
        }
        .flow2 {
            position: absolute;
            top: 40px;
            left: 50%;
            right: 0;
            bottom: 0;
            -webkit-perspective: 800px;
            background: -webkit-gradient(linear, left top, left bottom, from(#aaa), to(#fff));
        }
        .image2 {
            position: absolute;
            top: 50%;
            left: 50%;
        }
    </style>
</head>
<body>
    2 Flows, moving individually
    <div id="flow" class="flow">
        <div id="image" class="image"></div>
    </div>
    <div id="flow2" class="flow2">
        <div id="image2" class="image2"></div>
    </div>
</body>
</html>
