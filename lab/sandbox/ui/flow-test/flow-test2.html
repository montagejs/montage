<!DOCTYPE html>
<!-- <copyright>
 This file contains proprietary software owned by Motorola Mobility, Inc.<br/>
 No rights, expressed or implied, whatsoever to this software are provided by Motorola Mobility, Inc. hereunder.<br/>
 (c) Copyright 2011 Motorola Mobility, Inc.  All Rights Reserved.
 </copyright> -->
<html>
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="viewport" content="initial-scale=1.0; maximum-scale=1.0; user-scalable=0;">
    <script src="../../../../montage.js"></script>
    <script type="text/montage-serialization">
        {
            "imaget1": {
                "module": "image.reel",
                "name": "Image",
                "properties": {
                    "element": {"#": "image"}
                },
                "bindings": {
                    "src": {
                        "boundObject": {"@": "flow1"},
                        "boundObjectPropertyPath": "objectAtCurrentIteration",
                        "oneway": true
                    }
                }
            },
            "scroll1": {
                "module": "montage/ui/scroll",
                "name": "Scroll",
                "properties": {
                    "component": {"@": "flow1"}
                },
                "bindings": {
                    "element": {
                        "boundObject": {"@": "flow1"},
                        "boundObjectPropertyPath": "_element",
                        "oneway": true
                    },
                    "maxScrollX": {
                        "boundObject": {"@": "flow1"},
                        "boundObjectPropertyPath": "length",
                        "oneway": true
                    },
                    "scrollX": {
                        "boundObject": {"@": "flow1"},
                        "boundObjectPropertyPath": "origin"
                    }
                }
            },
            "nearest": {
                "module": "montage/ui/nearest-neighbor-component-search",
                "name": "NearestNeighborComponentSearch",
                "bindings": {
                    "componentList": {
                        "boundObject": {"@": "flow1"},
                        "boundObjectPropertyPath": "_repetitionComponents",
                        "oneway": true
                    },
                    "pointerPosition": {
                        "boundObject": {"@": "scroll1"},
                        "boundObjectPropertyPath": "pointerStartEventPosition",
                        "oneway": true                    
                    }
                }
            },
            "flow1": {
                "module": "montage/ui/flow.reel",
                "name": "Flow",
                "properties": {
                    "element": {"#": "flow"},
                    "objects": [
                        "images/0.jpg",
                        "images/1.jpg",
                        "images/2.jpg",
                        "images/3.jpg",
                        "images/4.jpg",
                        "images/5.jpg",
                        "images/6.jpg",
                        "images/7.jpg",
                        "images/8.jpg",
                        "images/9.jpg",
                        "images/10.jpg",
                        "images/11.jpg",
                        "images/12.jpg",
                        "images/13.jpg",
                        "images/14.jpg"
                    ]
                },
                "bindings": {
                    "path": {
                        "boundObject": {"@": "path1"},
                        "boundObjectPropertyPath": "path",
                        "oneway": true
                    },
                    "selectedSlideIndex": {
                        "boundObject": {"@": "nearest"},
                        "boundObjectPropertyPath": "nearestNeighborComponent",
                        "oneway": true  
                    }
                }
            },
            
            
            "path1": {
                "module": "montage/ui/flow-path",
                "name": "FlowPath",
                "bindings": {
                    "translateX": {
                        "boundObject": {"@": "path1TranslateX"},
                        "boundObjectPropertyPath": "path",
                        "oneway": true
                    },
                    "translateY": {
                        "boundObject": {"@": "path1TranslateY"},
                        "boundObjectPropertyPath": "path",
                        "oneway": true
                    }                    
                }
            },
            "path1TranslateX": {
                "module": "montage/ui/flow-path-linear",
                "name": "FlowPathLinear",
                "bindings": {
                    "origin": {
                        "boundObject": {"@": "slider1"},
                        "boundObjectPropertyPath": "value",
                        "oneway": true
                    },
                    "multiplier": {
                        "boundObject": {"@": "slider2"},
                        "boundObjectPropertyPath": "value",
                        "oneway": true
                    }
                }
            },
            "slider1": {
                "module": "montage/ui/bluemoon/slider.reel",
                "name": "Slider",
                "properties": {
                    "element": {"#": "slider1"},
                    "minValue": -300,
                    "maxValue": 0,
                    "value": 150                    
                }
            },
            "slider2": {
                "module": "montage/ui/bluemoon/slider.reel",
                "name": "Slider",
                "properties": {
                    "element": {"#": "slider2"},
                    "minValue": 0.5,
                    "maxValue": 1.5,
                    "value": 1                  
                }
            },            
            "path1TranslateY": {
                "module": "montage/ui/flow-path-cubic",
                "name": "FlowPathCubic",
                "bindings": {
                    "a": {
                        "boundObject": {"@": "slider3"},
                        "boundObjectPropertyPath": "value",
                        "oneway": true
                    },
                    "b": {
                        "boundObject": {"@": "slider4"},
                        "boundObjectPropertyPath": "value",
                        "oneway": true
                    },
                    "c": {
                        "boundObject": {"@": "slider5"},
                        "boundObjectPropertyPath": "value",
                        "oneway": true
                    },
                    "d": {
                        "boundObject": {"@": "slider6"},
                        "boundObjectPropertyPath": "value",
                        "oneway": true
                    }                    
                }
            },
            "slider3": {
                "module": "montage/ui/bluemoon/slider.reel",
                "name": "Slider",
                "properties": {
                    "element": {"#": "slider3"},
                    "minValue": -0.000004,
                    "maxValue": 0.000004,
                    "value": -0.000002                  
                }
            },
            "slider4": {
                "module": "montage/ui/bluemoon/slider.reel",
                "name": "Slider",
                "properties": {
                    "element": {"#": "slider4"},
                    "minValue": -0.0002,
                    "maxValue": 0.0002,
                    "value": -0.0001                  
                }
            }, 
            "slider5": {
                "module": "montage/ui/bluemoon/slider.reel",
                "name": "Slider",
                "properties": {
                    "element": {"#": "slider5"},
                    "minValue": -1,
                    "maxValue": 2,
                    "value": 0.5                  
                }
            }, 
            "slider6": {
                "module": "montage/ui/bluemoon/slider.reel",
                "name": "Slider",
                "properties": {
                    "element": {"#": "slider6"},
                    "minValue": 150,
                    "maxValue": 450,
                    "value": 300                  
                }
            }, 
            
            "owner": {
                "module": "flow-test",
                "name": "FlowTest"
            }
        }
    </script>
    <style>
        .flow {
            position: absolute;
            top: 0;
            left: 0;
            right: 380px;
            bottom: 0;
            -webkit-perspective: 800px;
            background: -webkit-gradient(linear, left top, left bottom, from(#666), to(#bbb));            
        }
        #rightPannel {
            position: absolute;
            right: 0;
            top: 0;
            bottom: 0;
            width: 360px;
            padding: 10px;
        }
        .pathCode {
            width: 340px;
            height: 200px;
        }
    </style>
</head>
<body>
    <div id="flow" class="flow">
        <div id="image"></div>
    </div>
    <div id="rightPannel">
        TranslateX (linear)
        <div id="slider1"></div>
        <div id="slider2"></div>
        TranslateY (cubic)
        <div id="slider3"></div>
        <div id="slider4"></div>
        <div id="slider5"></div>
        <div id="slider6"></div>        
    </div>
</body>
</html>