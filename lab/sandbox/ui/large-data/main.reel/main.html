<!DOCTYPE html>
<!-- <copyright>
 This file contains proprietary software owned by Motorola Mobility, Inc.<br/>
 No rights, expressed or implied, whatsoever to this software are provided by Motorola Mobility, Inc. hereunder.<br/>
 (c) Copyright 2011 Motorola Mobility, Inc.  All Rights Reserved.
 </copyright> -->
<html>
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>Main Component</title>
    <script type="text/montage-serialization">{

            "owner": {
                "prototype": "main.reel",
                "properties": {
                    "element": {"#": "main"}
                },
                "listeners": [
                    {
                        "type": "action",
                        "listener": {"@": "owner"}
                    }
                ]
            },

            "floorConverter": {
                "prototype": "main.reel[FloorConverter]"
            },

            "itemsPerPage": {
                "prototype": "montage/ui/bluemoon/slider.reel",
                "properties": {
                    "element": {"#": "itemsPerPage"},
                    "minValue": 0,
                    "maxValue": 50
                },
                "bindings": {
                    "value": {"<->": "@owner.itemsPerPageCount", "converter": {"@": "floorConverter"}}
                }
            },


            "itemCount": {
                "prototype": "montage/ui/dynamic-text.reel",
                "properties": {
                    "element": {"#": "itemCount"}
                },
                "bindings": {
                    "value": {"<-": "@owner.collectionController.organizedObjects.count()"}
                }
            },

            "itemsPerPageCount": {
                "prototype": "montage/ui/dynamic-text.reel",
                "properties": {
                    "element": {"#": "itemsPerPageCount"}
                },
                "bindings": {
                    "value": {"<-": "@owner.itemsPerPageCount"}
                }
            },

            "list": {
                "prototype": "montage/ui/repetition.reel",
                "properties": {
                    "element": {"#": "list"},
                    "isSelectionEnabled": true
                },
                "bindings": {
                    "contentController": {"<-": "@owner.collectionController"},
                    "indexMap": {"<-": "@owner.indexMap"}
                }
            },

            "item": {
                "prototype": "montage/ui/dynamic-text.reel",
                "properties": {
                    "element": {"#": "item"}
                },
                "bindings": {
                    "value": {"<-": "@list.objectAtCurrentIteration.label"}
                }
            },

            "selectedValueField": {
                "prototype": "montage/ui/input-text.reel",
                "properties": {
                    "element": {"#": "selectedValueField"}
                },
                "bindings": {
                    "value": {"<->": "@owner.collectionController.selectedObjects.0.label"}
                }
            },

            "nextPageButton": {
                "prototype": "montage/ui/button.reel",
                "properties": {
                    "element": {"#": "nextPageButton"},
                    "identifier": "nextPageButton"
                }
            },

            "previousPageButton": {
                "prototype": "montage/ui/button.reel",
                "properties": {
                    "element": {"#": "previousPageButton"},
                    "identifier": "previousPageButton"
                }
            }

    }</script>

    <style type="text/css">
        .item {
            display: block;
        }

        .detailView {
            background-color: hsl(0,0%,80%);
        }

        .main .active {
            background-color: hsl(195, 96%, 80%);
        }

        .main .selected {
            background-color: hsl(195, 96%, 53%);
        }
    </style>

</head>
<body>

    <div data-montage-id="main" class="main">

        <p><span data-montage-id="itemCount"></span> Items Available</p>

        <div>
            <div data-montage-id="itemsPerPage"></div>
            <p><span data-montage-id="itemsPerPageCount"></span> Items Per Page</p>
        </div>

        <button data-montage-id="previousPageButton">Previous</button>
        <button data-montage-id="nextPageButton">Next</button>

        <div class="detailView">
            Selected: <input type="text" data-montage-id="selectedValueField">
        </div>

        <div data-montage-id="list" class="list">
            <span data-montage-id="item" class="item"></span>
        </div>

    </div>

</body>
</html>
