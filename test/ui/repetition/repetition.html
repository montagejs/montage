<!doctype html>
<html>
<head>
    <title>Repetition Spec</title>
    <script type="text/javascript" src="../../../montage.js" data-package="../../"></script>
    <script type="text/montage-serialization">{

            "application": {
                "prototype": "montage/ui/application",
                "properties": {
                    "delegate": {"@": "repetitiontest1"}
                }
            },
            "repetitiontest1": {
                "prototype": "ui/repetition/repetition-test",
                "properties": {
                    "repetition1": {"@": "repetition1"},
                    "repetition2": {"@": "repetition2"},
                    "repetition3": {"@": "repetition3"},
                    "repetition4": {"@": "repetition4"},
                    "repetition5": {"@": "repetition5"},
                    "repetition6": {"@": "repetition6"},
                    "repetition7": {"@": "repetition7"},
                    "repetition8": {"@": "repetition8"},
                    "repetition9": {"@": "repetition9"},
                    "repetition12": {"@": "repetition12"},
                    "repetition15": {"@": "repetition15"},
                    "repetitionController": {"@": "repetitionController"},
                    "list1Objects": [

                    ],
                    "list2Objects": [
                        {
                            "text": "This"
                        }
                    ],
                    "list3Objects": [

                    ],
                    "list4Objects": [

                    ],
                    "list5Objects": [

                    ],
                    "list6Objects": [

                    ],
                    "list7Objects": [
                        1,
                        2
                    ],
                    "list8Objects": [
                        1,
                        2
                    ],
                    "list9Objects": [

                    ],
                    "list10Objects": [

                    ],
                    "text": "Hello",
                    "simpleArrayController": {"@": "simpleArrayController"},
                    "simpleArrayControllerContent": ["one", "two", "three"]
                }
            },
            "repetition1": {
                "prototype": "montage/ui/repetition.reel",
                "properties": {
                    "element": {"#": "list1"}
                },
                "bindings": {
                    "objects": {"<-": "@repetitiontest1.list1Objects"}
                }
            },
            "textfield1": {
                "prototype": "ui/repetition/textfield.reel[TextField]",
                "properties": {
                    "element": {"#": "textfield1"}
                },
                "bindings": {
                    "text": {"<-": "@repetition2.objectAtCurrentIteration.text"}
                }
            },
            "repetition2": {
                "prototype": "montage/ui/repetition.reel",
                "properties": {
                    "element": {"#": "list2"}
                },
                "bindings": {
                    "objects": {"<-": "@repetitiontest1.list2Objects"}
                }
            },
            "textfield2": {
                "prototype": "ui/repetition/textfield.reel[TextField]",
                "properties": {
                    "element": {"#": "textfield2"}
                },
                "bindings": {
                    "text": {"<-": "@repetition3.objectAtCurrentIteration.text"}
                }
            },
            "repetition3": {
                "prototype": "montage/ui/repetition.reel",
                "properties": {
                    "element": {"#": "list3a"}
                },
                "bindings": {
                    "objects": {"<-": "@repetition4.objectAtCurrentIteration"}
                }
            },
            "repetition4": {
                "prototype": "montage/ui/repetition.reel",
                "properties": {
                    "element": {"#": "list3"}
                },
                "bindings": {
                    "objects": {"<-": "@repetitiontest1.list3Objects"}
                }
            },
            "componenty1": {
                "prototype": "ui/repetition/componenty.reel[ComponentY]",
                "properties": {
                    "element": {"#": "content3"}
                }
            },
            "repetition6": {
                "prototype": "montage/ui/repetition.reel",
                "properties": {
                    "element": {"#": "list4a"}
                },
                "bindings": {
                    "objects": {"<-": "@repetition5.objectAtCurrentIteration"}
                }
            },
            "repetition5": {
                "prototype": "montage/ui/repetition.reel",
                "properties": {
                    "element": {"#": "list4"}
                },
                "bindings": {
                    "objects": {"<-": "@repetitiontest1.list4Objects"}
                }
            },
            "textfield3": {
                "prototype": "ui/repetition/textfield.reel[TextField]",
                "properties": {
                    "element": {"#": "textfield4"},
                    "text": "X here"
                }
            },
            "componentx1": {
                "prototype": "ui/repetition/componentx.reel[ComponentX]",
                "properties": {
                    "element": {"#": "content4"},
                    "textfield": {"@": "textfield3"}
                }
            },
            "repetition8": {
                "prototype": "montage/ui/repetition.reel",
                "properties": {
                    "element": {"#": "list5a"}
                },
                "bindings": {
                    "objects": {"<-": "@repetition7.objectAtCurrentIteration"}
                }
            },
            "repetition7": {
                "prototype": "montage/ui/repetition.reel",
                "properties": {
                    "element": {"#": "list5"}
                },
                "bindings": {
                    "objects": {"<-": "@repetitiontest1.list5Objects"}
                }
            },
            "componentrep1": {
                "prototype": "ui/repetition/componentrep.reel[ComponentRep]",
                "properties": {
                    "element": {"#": "componentrep1"}
                }
            },
            "componentrep2": {
                "prototype": "ui/repetition/componentrep.reel[ComponentRep]",
                "properties": {
                    "element": {"#": "componentrep2"}
                }
            },
            "componentrep3": {
                "prototype": "ui/repetition/componentrep.reel[ComponentRep]",
                "properties": {
                    "element": {"#": "list6comp1"}
                },
                "bindings": {
                    "listObjects": {"<-": "@repetition9.objectAtCurrentIteration.elements1"}
                }
            },
            "componentrep4": {
                "prototype": "ui/repetition/componentrep.reel[ComponentRep]",
                "properties": {
                    "element": {"#": "list6comp2"}
                },
                "bindings": {
                    "listObjects": {"<-": "@repetition9.objectAtCurrentIteration.elements2"}
                }
            },
            "repetition9": {
                "prototype": "montage/ui/repetition.reel",
                "properties": {
                    "element": {"#": "list6"}
                },
                "bindings": {
                    "objects": {"<-": "@repetitiontest1.list6Objects"}
                }
            },
            "textfield4": {
                "prototype": "ui/repetition/textfield.reel[TextField]",
                "properties": {
                    "element": {"#": "textfield5"}
                },
                "bindings": {
                    "text": {"<-": "@repetitiontest1.text"}
                }
            },
            "componentx2": {
                "prototype": "ui/repetition/componentx.reel[ComponentX]",
                "properties": {
                    "element": {"#": "content5"},
                    "textfield": {"@": "textfield4"}
                }
            },
            "repetition10": {
                "prototype": "montage/ui/repetition.reel",
                "properties": {
                    "element": {"#": "list7"}
                },
                "bindings": {
                    "objects": {"<-": "@repetitiontest1.list7Objects"}
                }
            },
            "actioneventlistener1": {
                "prototype": "montage/core/event/action-event-listener",
                "properties": {
                    "handler": {"@": "repetitiontest1"},
                    "action": "listener"
                }
            },
            "textfield5": {
                "prototype": "ui/repetition/textfield.reel[TextField]",
                "properties": {
                    "element": {"#": "textfield6"}
                },
                "listeners": [
                    {
                        "type": "action",
                        "listener": {"@": "actioneventlistener1"},
                        "capture": false,
                        "oneway": true
                    }
                ]
            },
            "repetition11": {
                "prototype": "montage/ui/repetition.reel",
                "properties": {
                    "element": {"#": "list8"}
                },
                "bindings": {
                    "objects": {"<-": "@repetitiontest1.list8Objects"}
                }
            },
            "textfield6": {
                "prototype": "ui/repetition/textfield.reel[TextField]",
                "properties": {
                    "element": {"#": "textfield7"}
                }
            },
            "repetition12": {
                "prototype": "montage/ui/repetition.reel",
                "properties": {
                    "element": {"#": "list9"}
                },
                "bindings": {
                    "objects": {"<-": "@repetitiontest1.list9Objects"}
                }
            },
            "componentz1": {
                "prototype": "ui/repetition/componentz.reel[ComponentZ]",
                "properties": {
                    "element": {"#": "componentz1"},
                    "text": "o1"
                }
            },
            "componentz2": {
                "prototype": "ui/repetition/componentz.reel[ComponentZ]",
                "properties": {
                    "element": {"#": "componentz2"},
                    "text": "o2"
                }
            },
            "componentslowload1": {
                "prototype": "ui/repetition/componentslowload[ComponentSlowLoad]",
                "properties": {
                    "element": {"#": "componentslowload1"}
                }
            },
            "repetition13": {
                "prototype": "montage/ui/repetition.reel",
                "properties": {
                    "element": {"#": "list10"}
                },
                "bindings": {
                    "objects": {"<-": "@repetitiontest1.list10Objects"}
                }
            },
            "repetitionController": {
                "prototype": "montage/ui/repetition.reel",
                "properties": {
                    "element": {"#": "repetitionController"},
                    "contentController": {"@": "simpleArrayController"}
                }
            },
            "simpleArrayController": {
                "prototype": "montage/ui/controller/array-controller",
                "properties": {
                    "automaticallyOrganizeObjects": true
                },
                "bindings": {
                    "content": {"<-": "@repetitiontest1.simpleArrayControllerContent"}
                }
             },
            "repetitionControllerText": {
                "prototype": "montage/ui/dynamic-text.reel",
                "properties": {
                    "element": {"#": "repetitionControllerText"},
                    "value": "foo"
                }
            },
            "repetition14": {
                "prototype": "montage/ui/repetition.reel",
                "properties": {
                    "element": {"#": "list11"},
                    "objects": [1, 2, 3]
                }
            },
            "repetition15": {
                "prototype": "montage/ui/repetition.reel",
                "properties": {
                    "element": {"#": "list13"},
                    "objects": [1, 2, 3]
                }
            },
            "repetition16": {
                "prototype": "montage/ui/repetition.reel",
                "properties": {
                    "element": {"#": "list14"}
                }
            },

            "slider": {
                "prototype": "montage/ui/bluemoon/slider.reel",
                "properties": {
                    "element": {"#": "slider"}
                }
            }
    }</script>
</head>
<body>
    <h2>Static Repetition</h2>
    <ul data-montage-id="list1" class="list1">
        <li>Hello Friend!</li>
    </ul>

    <h2>Component Repetition</h2>
    <ul data-montage-id="list2" class="list2">
        <li>Name: <span data-montage-id="textfield1" class="textfield1"></span></li>
    </ul>

    <h2>Nested Repetition</h2>
    <ul data-montage-id="list3" class="list3">
        <li>
            Inner List:
            <ul data-montage-id="list3a" class="list3a">
                <li><span data-montage-id="textfield2" class="textfield2"></span></li>
            </ul>
        </li>
    </ul>

    <h2>SCC Nested Repetition</h2>
    <ul data-montage-id="list4" class="list4">
        <li>
            <ul data-montage-id="list4a" class="list4a">
                <li><div data-montage-id="content3" class="content3"></div></li>
            </ul>
        </li>
    </ul>

    <h2>DCC Nested Repetition</h2>
    <ul data-montage-id="list5" class="list5">
        <li>
            <ul data-montage-id="list5a" class="list5a">
                <li>
                    <div data-montage-id="content4" class="content4">
                        <span data-montage-id="textfield4" class="textfield4"></span>
                    </div>
                </li>
            </ul>
        </li>
    </ul>

    <h2>Component Repetition 1</h2>
    <div data-montage-id="componentrep1" class="componentrep1"></div>

    <h2>Component Repetition 2</h2>
    <div data-montage-id="componentrep2" class="componentrep2"></div>

    <h2>Repetition With Components That Have Repetitions</h2>
    <ul data-montage-id="list6" class="list6">
        <li>
            Iteration
            <span data-montage-id="list6comp1" class="list6comp1"></span>
            <span data-montage-id="list6comp2" class="list6comp2"></span>
        </li>
    </ul>

    <h2>Binding Repetitions</h2>
    <ul data-montage-id="list7" class="list7">
        <li>
            <div data-montage-id="content5" class="content5">
                <span data-montage-id="textfield5" class="textfield5"></span>
            </div>
        </li>
    </ul>

    <h2>ActionEventListener Repetitions</h2>
    <ul data-montage-id="list8" class="list8">
        <li>
            Iteration
            <span data-montage-id="textfield6" class="textfield6"></span>
        </li>
    </ul>

    <h2>Repetitions With Direct Components</h2>
    <div data-montage-id="list9" class="list9">
        <span data-montage-id="textfield7" class="textfield7"></span>
    </div>

    <h2>Repetitions in the same Component but with different external objects</h2>
    <div data-montage-id="componentz1" class="componentz1"></div>
    <div data-montage-id="componentz2" class="componentz2"></div>

    <h2>Repetitions with async loadComponentTree components</h2>
    <ul data-montage-id="list10" class="list10">
        <li>
            <span data-montage-id="componentslowload1" class="componentslowload1"></span>
        </li>
    </ul>

    <h2>Repetitions with content controller</h2>
    <ul data-montage-id="repetitionController" class="repetitionController">
        <li data-montage-id="repetitionControllerText" class="repetitionControllerText"></li>
    </ul>

    <h2>Repetition with content change</h2>
    <ul data-montage-id="list11" class="list11">
        <li>X</li>
    </ul>

    <h2>Repetition created programmatically</h2>
    <ul class="list12" data-montage-id="list12">
        <li>A</li>
    </ul>

    <h2>Repetition changed programmatically</h2>
    <ul class="list13" data-montage-id="list13">
        <li>B</li>
    </ul>

    <h2>Repetition changed after added to the draw list but before the draw</h2>
    <div class="list14" data-montage-id="list14">
        <span data-montage-id="slider"></span>
    </div>
</body>
</html>
