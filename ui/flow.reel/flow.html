<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <link rel="stylesheet" href="flow.css">
    <script type="text/montage-serialization">
        {
            "repetition": {
                "prototype": "ui/repetition.reel",
                "properties": {
                    "element": {
                        "#": "montage-flow-repetition"
                    },
                    "contentController": {
                        "@": "frustumController"
                    }
                },
                "bindings": {
                    "isSelectionEnabled": {"<-": "@owner.isSelectionEnabled"}
                }
            },
            "frustumController": {
                "prototype": "core/range-controller",
                "bindings": {
                    "content": {"<-": "@owner.contentController.organizedContent ?? @owner.content"},
                    "visibleIndexes": {"<-": "@owner._visibleIndexes"}
                }
            },
            "flowTranslateComposer": {
                "prototype": "ui/flow.reel/flow-translate-composer",
                "properties": {
                    "flow": {"@": "owner"},
                    "invertAxis": true,
                    "allowFloats": true,
                    "minScroll": 0
                },
                "bindings": {
                    "maxScroll": {"<-": "@owner.length"},
                    "_momentumDuration": {"<-": "@owner.momentumDuration"},
                    "translateStride": {"<-": "@owner.stride"},
                    "scrollingMode": {"<-": "@owner.scrollingMode"},
                    "linearScrollingVector": {"<-": "@owner.linearScrollingVector"},
                    "isLimitedToSingleStride": {"<-": "@owner.isLimitedToSingleStride"},
                    "delegate": {"<-": "@owner"}
                }
            },
            "slot": {
                "prototype": "ui/slot.reel",
                "properties": {
                    "element": {"#": "montage-flow-slot"}
                },
                "bindings": {
                    "content": {"<->": "@owner.slotContent"}
                }
            },
            "owner": {
                "properties": {
                    "element": {
                        "#": "montage-flow"
                    },
                    "_repetition": {
                        "@": "repetition"
                    },
                    "_flowTranslateComposer": {
                        "@": "flowTranslateComposer"
                    },
                    "_cameraElement": {
                        "#": "montage-flow-camera"
                    },
                    "_frustumController": {
                        "@": "frustumController"
                    }
                },
                "bindings": {
                    "scroll": {"<->": "@flowTranslateComposer.scroll"},
                    "selection": {"<->": "@frustumController.selection"},
                    "selectedIndexes": {"<-": "@repetition.selectedIndexes"},
                    "activeIndexes": {"<-": "@repetition.activeIndexes"},
                    "draggedSlideIndex": {"<-": "@flowTranslateComposer._closerIndex"}
                }
            },
            ":iteration": {
               "alias": "@repetition:iteration"
            }
        }
    </script>
</head>
<body>
    <div data-montage-id="montage-flow" class="montage-Flow">
        <div data-montage-id="montage-flow-camera" class="montage-Flow-camera">
            <div data-montage-id="montage-flow-repetition" class="montage-Flow-Repetition">
                <div data-montage-id="wrapper">
                    <div data-param="*"></div>
                </div>
            </div>
            <div data-montage-id="montage-flow-slot" class="montage-Flow-Slot"></div>
        </div>
    </div>
</body>
</html>
