<!DOCTYPE html>
<html>

<head>
    <link rel="stylesheet" type="text/css" href="cascading-list.css">
    <script type="text/montage-serialization">
    {

        "owner": {
            "values": {
                "element": {"#": "owner"},
                "succession": {"@": "succession"},
                "shelf": {"@": "shelf"},
                "classList.has('isFlat')": {"<-": "@owner.isFlat"},
                "classList.has('is-shelf-opened')": {"<-": "@owner.isShelfOpened"}
            }
        },

        "shelf": {
            "prototype": "./cascading-list-shelf.reel",
            "values": {
                "element": {"#": "shelf"},
                "delegate": {"<-": "@owner.delegate"},
                "cascadingList": {"<-": "@owner"},
                "classList.has('is-item-drag-over')": {"<-": "@owner._isItemDragOverShelf"}
            }
        },

        "succession": {
            "prototype": "../succession.reel",
            "values": {
                "element": {"#": "succession"},
                "isFlat": {"<-": "@owner.isFlat"},
                "contentBuildInAnimation":{"<-": "!@owner.isFlat && @owner._isComponentTreeLoaded ? @owner._contentBuildInAnimation : null" },
                "contentBuildOutAnimation":{"<-": "!@owner.isFlat && @owner._isComponentTreeLoaded ? @owner._contentBuildOutAnimation : null" },
                "classList.has('back-transition')": {"<-": "@owner._isBackTransition"}
            },
            "listeners": [
                {
                    "type": "action",
                    "listener": {"@": "owner"}
                },
                {
                    "type": "buildOutEnd",
                    "listener": {"@": "owner"}
                }
            ]
        }

    }
    </script>
</head>

<body>
    <div data-montage-id="owner" class="CascadingList">
        <div data-montage-id="shelf"></div>
        <div data-montage-id="succession" class="CascadingList-succession"></div>
    </div>
</body>

</html>
